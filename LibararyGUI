-- Library object to hold all functions and data
local Library = {}

-- Random UI Name generation for the library instance
local LibraryName = tostring(math.random(100000, 200000)) .. tostring(math.random(100000, 200000)) .. tostring(math.random(100000, 200000))

-- Function to create the GUI with specified xHubName
function Library:Create(xHubName)
	-- Default to "UI Library" if xHubName is not provided
	xHubName = xHubName or "UI Library"

	-- Instances creation (based on previous code)
	local ScreenScript = Instance.new("ScreenGui")
	local Main = Instance.new("Frame")
	local Headerframe = Instance.new("Frame")
	local Close = Instance.new("ImageButton")
	local UICorner = Instance.new("UICorner")
	local ImageLabel = Instance.new("ImageLabel")
	local UIScale = Instance.new("UIScale")
	local Title = Instance.new("TextButton")
	local UIPadding = Instance.new("UIPadding")
	local FirstSeperator = Instance.new("Frame")
	local Siderframe = Instance.new("Frame")
	local ActualSide = Instance.new("ScrollingFrame")
	local ActualSideListLayout = Instance.new("UIListLayout")
	local TextButton = Instance.new("TextButton")
	local UICorner_2 = Instance.new("UICorner")
	local Tabholder = Instance.new("ScrollingFrame")
	local Tabs = Instance.new("Folder")
	local UICorner_3 = Instance.new("UICorner")
	local TabLayout = Instance.new("UIListLayout")
	local ImageButtonK = Instance.new("ImageButton")
	local ImageButtonKCorner = Instance.new("UICorner")

	-- Properties setup (based on previous code)
	ScreenScript.Name = LibraryName
	ScreenScript.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
	ScreenScript.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

	Main.Name = "Main"
	Main.Parent = ScreenScript
	Main.BackgroundColor3 = Color3.fromRGB(29, 29, 29)
	Main.BorderColor3 = Color3.fromRGB(27, 42, 53)
	Main.BorderSizePixel = 0
	Main.Position = UDim2.new(0.272804052, 0, 0.243107766, 0)
	Main.Size = UDim2.new(0, 525, 0, 318)
	-- ... (other properties omitted for brevity)

	
	
	
	Headerframe.Name = "Headerframe"
	Headerframe.Parent = Main
	Headerframe.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	Headerframe.BackgroundTransparency = 1.000
	Headerframe.BorderColor3 = Color3.fromRGB(0, 0, 0)
	Headerframe.BorderSizePixel = 0
	Headerframe.Size = UDim2.new(0, 525, 0, 37)

	Close.Name = "Close"
	Close.Parent = Headerframe
	Close.Active = false
	Close.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	Close.BackgroundTransparency = 1.000
	Close.Position = UDim2.new(0.917412579, 0, 0.167417377, 0)
	Close.Selectable = false
	Close.Size = UDim2.new(0, 33, 0, 22)

	UICorner.CornerRadius = UDim.new(0, 4)
	UICorner.Parent = Close

	ImageLabel.Parent = Close
	ImageLabel.AnchorPoint = Vector2.new(0.5, 0.5)
	ImageLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	ImageLabel.BackgroundTransparency = 1.000
	ImageLabel.Position = UDim2.new(0.500000775, 1, 0.545454264, 0)
	ImageLabel.Size = UDim2.new(0, 21, 0, 21)
	ImageLabel.Image = "rbxassetid://7743878857"

	UIScale.Parent = ImageLabel
	UIScale.Scale = 0.700

	Title.Name = "Title"
	Title.Parent = Headerframe
	Title.Active = false
	Title.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	Title.BackgroundTransparency = 1.000
	Title.Position = UDim2.new(0.00192685076, 0, 0, 0)
	Title.Selectable = false
	Title.Size = UDim2.new(0, 323, 0, 36)
	Title.Font = Enum.Font.GothamMedium
	Title.Text = "Zen X's Library"
	Title.TextColor3 = Color3.fromRGB(161, 161, 161)
	Title.TextScaled = true
	Title.TextSize = 13.000
	Title.TextWrapped = true
	Title.TextXAlignment = Enum.TextXAlignment.Left

	UIPadding.Parent = Title
	UIPadding.PaddingLeft = UDim.new(0, 10)

	FirstSeperator.Name = "FirstSeperator"
	FirstSeperator.Parent = Main
	FirstSeperator.BackgroundColor3 = Color3.fromRGB(52, 52, 52)
	FirstSeperator.BorderSizePixel = 0
	FirstSeperator.Position = UDim2.new(-2.58091513e-05, 0, 0.116352201, 0)
	FirstSeperator.Size = UDim2.new(0, 525, 0, 1)
	FirstSeperator.ZIndex = 5

	Siderframe.Name = "Siderframe"
	Siderframe.Parent = Main
	Siderframe.BackgroundColor3 = Color3.fromRGB(29, 29, 29)
	Siderframe.BorderColor3 = Color3.fromRGB(0, 0, 0)
	Siderframe.BorderSizePixel = 0
	Siderframe.Position = UDim2.new(-0.00190476188, 0, 0.119496852, 0)
	Siderframe.Size = UDim2.new(0, 199, 0, 280)

	ActualSide.Name = "ActualSide"
	ActualSide.Parent = Siderframe
	ActualSide.Active = true
	ActualSide.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	ActualSide.BackgroundTransparency = 1.000
	ActualSide.BorderColor3 = Color3.fromRGB(0, 0, 0)
	ActualSide.BorderSizePixel = 0
	ActualSide.Size = UDim2.new(0, 198, 0, 239)
	ActualSide.ScrollBarThickness = 2

	ActualSideListLayout.Name = "ActualSideListLayout"
	ActualSideListLayout.Parent = ActualSide
	ActualSideListLayout.SortOrder = Enum.SortOrder.LayoutOrder

	TextButton.Parent = Siderframe
	TextButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	TextButton.BackgroundTransparency = 1.000
	TextButton.BorderColor3 = Color3.fromRGB(0, 0, 0)
	TextButton.BorderSizePixel = 0
	TextButton.Position = UDim2.new(-0.00502512557, 0, 0.853571415, 0)
	TextButton.Size = UDim2.new(0, 200, 0, 41)
	TextButton.Font = Enum.Font.SourceSans
	TextButton.Text = "Place ID"
	TextButton.TextColor3 = Color3.fromRGB(0, 255, 157)
	TextButton.TextScaled = true
	TextButton.TextSize = 14.000
	TextButton.TextWrapped = true

	UICorner_2.CornerRadius = UDim.new(0, 5)
	UICorner_2.Parent = Main

	Tabholder.Name = "Tabholder"
	Tabholder.Parent = Main
	Tabholder.Active = true
	Tabholder.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	Tabholder.BackgroundTransparency = 1.000
	Tabholder.BorderColor3 = Color3.fromRGB(0, 0, 0)
	Tabholder.BorderSizePixel = 0
	Tabholder.Position = UDim2.new(0.375238091, 0, 0.119496852, 0)
	Tabholder.Size = UDim2.new(0, 327, 0, 280)
	Tabholder.ScrollBarThickness = 5

	Tabs.Name = "Tabs"
	Tabs.Parent = Tabholder

	UICorner_3.CornerRadius = UDim.new(0, 12)
	UICorner_3.Parent = Tabholder

	TabLayout.Name = "TabLayout"
	TabLayout.Parent = Tabholder
	TabLayout.SortOrder = Enum.SortOrder.LayoutOrder

	ImageButtonK.Name = "ImageButtonK"
	ImageButtonK.Parent = ScreenScript
	ImageButtonK.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	ImageButtonK.BackgroundTransparency = 1.000
	ImageButtonK.BorderColor3 = Color3.fromRGB(0, 0, 0)
	ImageButtonK.BorderSizePixel = 0
	ImageButtonK.Position = UDim2.new(0.219957083, 0, 0.0619834736, 0)
	ImageButtonK.Size = UDim2.new(0, 73, 0, 52)
	ImageButtonK.Image = "rbxassetid://15771991482"

	ImageButtonKCorner.CornerRadius = UDim.new(0, 12)
	ImageButtonKCorner.Name = "ImageButtonKCorner"
	ImageButtonKCorner.Parent = ImageButtonK
	
	
	
	
	
	
	
	-- Function to toggle visibility of the GUI
	function Library:Toggle()
		local gui = game.CoreGui:FindFirstChild(LibraryName)
		if gui then
			gui.Enabled = not gui.Enabled
		end
	end

	-- Function to allow dragging of the GUI
	function Library:Drag(obj)
		local UserInputService = game:GetService("UserInputService")
		local gui = obj
		local dragging
		local dragInput
		local dragStart
		local startPos

		local function update(input)
			local delta = input.Position - dragStart
			gui.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
		end

		gui.InputBegan:Connect(function(input)
			if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
				dragging = true
				dragStart = input.Position
				startPos = gui.Position

				input.Changed:Connect(function()
					if input.UserInputState == Enum.UserInputState.End then
						dragging = false
					end
				end)
			end
		end)

		gui.InputChanged:Connect(function(input)
			if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
				dragInput = input
			end
		end)

		UserInputService.InputChanged:Connect(function(input)
			if input == dragInput and dragging then
				update(input)
			end
		end)
	end

	-- Function to create tabs within the ActualSide scrolling frame
	local xTabs = {}

	function xTabs:Tab(TabName, xVisible)
		local TabFolder = Instance.new("Folder")
		TabFolder.Name = TabName
		TabFolder.Parent = ActualSide -- Parent each tab folder to ActualSide

		-- Instances:
		local TabDisplay = Instance.new("ImageButton")
		local Seperator = Instance.new("Frame")
		local Title = Instance.new("TextLabel")
		local UIPadding = Instance.new("UIPadding")
		local UICorner = Instance.new("UICorner")

		-- Properties:
		TabDisplay.Name = "TabDisplay"
		TabDisplay.Parent = TabFolder -- Parent TabDisplay to the respective TabFolder
		TabDisplay.Active = false
		TabDisplay.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		TabDisplay.Position = UDim2.new(0.028, 0, 0, 0) -- Adjust position as needed
		TabDisplay.Selectable = false
		TabDisplay.Size = UDim2.new(0, 327, 0, 36) -- Adjust size to fit in ActualSide
		TabDisplay.Visible = xVisible

		Seperator.Name = "Seperator"
		Seperator.Parent = TabDisplay
		Seperator.BackgroundColor3 = Color3.fromRGB(52, 52, 52)
		Seperator.BorderSizePixel = 0
		Seperator.Position = UDim2.new(0.989, 0, 0, 0)
		Seperator.Size = UDim2.new(0, 1, 0, 36)

		Title.Name = "Title"
		Title.Parent = TabDisplay
		Title.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		Title.BackgroundTransparency = 1.000
		Title.Position = UDim2.new(0, 10, 0, 0)
		Title.Size = UDim2.new(0, 316, 0, 36)
		Title.Font = Enum.Font.GothamMedium
		Title.Text = TabName
		Title.TextColor3 = Color3.fromRGB(161, 161, 161)
		Title.TextScaled = true
		Title.TextSize = 12.000
		Title.TextWrapped = true

		UIPadding.Parent = Title
		UIPadding.PaddingLeft = UDim.new(0, 10)

		UICorner.Parent = TabDisplay
	end

	-- Example usage:
	--xTabs:Tab("Home", true)


local Elements = {}

function Elements:Button(Name, Callback)
	local Name = Name or "Button"
	local ButtonFunction = {}
	local Callback = Callback or function () end
	
	
	local ButtonTemplate = Instance.new("TextButton")
	local UICorner = Instance.new("UICorner")
	local TextLabel = Instance.new("TextLabel")
	local UIPadding = Instance.new("UIPadding")
	local Status = Instance.new("Frame")
	local ActualThing = Instance.new("Frame")
	local ImageLabel = Instance.new("ImageLabel")
	local UIScale = Instance.new("UIScale")

	-- Properties:
	ButtonTemplate.Name = "ButtonTemplate"
	ButtonTemplate.Parent = Tabholder -- Parent ButtonTemplate to Tabholder
	ButtonTemplate.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
	ButtonTemplate.Position = UDim2.new(0, 0, 0, 0)
	ButtonTemplate.Selectable = false
	ButtonTemplate.Size = UDim2.new(0, 327, 0, 31) -- Adjust size as needed
	ButtonTemplate.AutoButtonColor = false
	ButtonTemplate.Text = ""

	UICorner.CornerRadius = UDim.new(0, 5)
	UICorner.Parent = ButtonTemplate

	TextLabel.Parent = ButtonTemplate
	TextLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	TextLabel.BackgroundTransparency = 1.000
	TextLabel.Position = UDim2.new(0, 0, 0, 0)
	TextLabel.Size = UDim2.new(1, -20, 1, 0) -- Adjust size to fit button
	TextLabel.Font = Enum.Font.GothamMedium
	TextLabel.Text = Name
	TextLabel.TextColor3 = Color3.fromRGB(193, 193, 193)
	TextLabel.TextSize = 12.000
	TextLabel.TextXAlignment = Enum.TextXAlignment.Left

	UIPadding.Parent = TextLabel
	UIPadding.PaddingLeft = UDim.new(0, 10)

	Status.Name = "Status"
	Status.Parent = ButtonTemplate
	Status.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	Status.BackgroundTransparency = 1.000
	Status.Position = UDim2.new(0.839826822, 0, 0, 0)
	Status.Size = UDim2.new(0, 37, 0, 31)

	ActualThing.Name = "ActualThing"
	ActualThing.Parent = Status
	ActualThing.AnchorPoint = Vector2.new(0.5, 0.5)
	ActualThing.BackgroundColor3 = Color3.fromRGB(106, 0, 255)
	ActualThing.BackgroundTransparency = 1.000
	ActualThing.Position = UDim2.new(0.5, 0, 0.5, 0)
	ActualThing.Size = UDim2.new(0, 20, 0, 20)

	ImageLabel.Parent = ActualThing
	ImageLabel.AnchorPoint = Vector2.new(0.5, 0.5)
	ImageLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	ImageLabel.BackgroundTransparency = 1.000
	ImageLabel.Position = UDim2.new(0.5, 0, 0.5, 0)
	ImageLabel.Size = UDim2.new(0, 20, 0, 20)
	ImageLabel.Image = "rbxassetid://7734010488"
	ImageLabel.ImageColor3 = Color3.fromRGB(104, 104, 104)

	UIScale.Parent = ImageLabel
	UIScale.Scale = 0.800

		ButtonTemplate.MouseButton1Click:Connect(function()
			Callback()
		end)

		function ButtonFunction:UpdateButton(NewName)
			TextLabel.Text = NewName
		end

		return ButtonFunction -- Return the ButtonFunction table, not ButtonTemplate
	end
	
	
	
	-- Example usage:
	--Elements:Button("Infinite Money", function()
	--	print("Button 'Infinite Money' clicked!")
	--end)
	
	
	
	
	
	
	return Elements -- Return the Elements table for external access
end
	-- Return Library object for external access
		return Library
