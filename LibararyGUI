local Emptyness = {}

local tween = game:GetService("TweenService")
local tweeninfo = TweenInfo.new
local input = game:GetService("UserInputService")
local run = game:GetService("RunService")
local Utility = {}
local Objects = {}
function Emptyness:DraggingEnabled(frame, parent)

	parent = parent or frame

	-- stolen from wally or kiriot, kek
	local dragging = false
	local dragInput, mousePos, framePos

	frame.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			dragging = true
			mousePos = input.Position
			framePos = parent.Position

			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					dragging = false
				end
			end)
		end
	end)

	frame.InputChanged:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
			dragInput = input
		end
	end)

	input.InputChanged:Connect(function(input)
		if input == dragInput and dragging then
			local delta = input.Position - mousePos
			parent.Position  = UDim2.new(framePos.X.Scale, framePos.X.Offset + delta.X, framePos.Y.Scale, framePos.Y.Offset + delta.Y)
		end
	end)
end

function Utility:TweenObject(obj, properties, duration, ...)
	tween:Create(obj, tweeninfo(duration, ...), properties):Play()
end




local themes = {
	SchemeColor = Color3.fromRGB(74, 99, 135),
	Background = Color3.fromRGB(36, 37, 43),
	Header = Color3.fromRGB(28, 29, 34),
	TextColor = Color3.fromRGB(255,255,255),
	ElementColor = Color3.fromRGB(32, 32, 38)
}

local themeStyles = {
	DarkTheme = {
		SchemeColor = Color3.fromRGB(64, 64, 64),
		Background = Color3.fromRGB(0, 0, 0),
		Header = Color3.fromRGB(0, 0, 0),
		TextColor = Color3.fromRGB(255,255,255),
		ElementColor = Color3.fromRGB(20, 20, 20)
	},
	LightTheme = {
		SchemeColor = Color3.fromRGB(150, 150, 150),
		Background = Color3.fromRGB(255,255,255),
		Header = Color3.fromRGB(200, 200, 200),
		TextColor = Color3.fromRGB(0,0,0),
		ElementColor = Color3.fromRGB(224, 224, 224)
	},
	BloodTheme = {
		SchemeColor = Color3.fromRGB(227, 27, 27),
		Background = Color3.fromRGB(10, 10, 10),
		Header = Color3.fromRGB(5, 5, 5),
		TextColor = Color3.fromRGB(255,255,255),
		ElementColor = Color3.fromRGB(20, 20, 20)
	},
	GrapeTheme = {
		SchemeColor = Color3.fromRGB(166, 71, 214),
		Background = Color3.fromRGB(64, 50, 71),
		Header = Color3.fromRGB(36, 28, 41),
		TextColor = Color3.fromRGB(255,255,255),
		ElementColor = Color3.fromRGB(74, 58, 84)
	},
	Ocean = {
		SchemeColor = Color3.fromRGB(86, 76, 251),
		Background = Color3.fromRGB(26, 32, 58),
		Header = Color3.fromRGB(38, 45, 71),
		TextColor = Color3.fromRGB(200, 200, 200),
		ElementColor = Color3.fromRGB(38, 45, 71)
	},
	Midnight = {
		SchemeColor = Color3.fromRGB(26, 189, 158),
		Background = Color3.fromRGB(44, 62, 82),
		Header = Color3.fromRGB(57, 81, 105),
		TextColor = Color3.fromRGB(255, 255, 255),
		ElementColor = Color3.fromRGB(52, 74, 95)
	},
	Sentinel = {
		SchemeColor = Color3.fromRGB(230, 35, 69),
		Background = Color3.fromRGB(32, 32, 32),
		Header = Color3.fromRGB(24, 24, 24),
		TextColor = Color3.fromRGB(119, 209, 138),
		ElementColor = Color3.fromRGB(24, 24, 24)
	},
	Synapse = {
		SchemeColor = Color3.fromRGB(46, 48, 43),
		Background = Color3.fromRGB(13, 15, 12),
		Header = Color3.fromRGB(36, 38, 35),
		TextColor = Color3.fromRGB(152, 99, 53),
		ElementColor = Color3.fromRGB(24, 24, 24)
	},
	Serpent = {
		SchemeColor = Color3.fromRGB(0, 166, 58),
		Background = Color3.fromRGB(31, 41, 43),
		Header = Color3.fromRGB(22, 29, 31),
		TextColor = Color3.fromRGB(255,255,255),
		ElementColor = Color3.fromRGB(22, 29, 31)
	},
	Kiwi = {
		SchemeColor = Color3.fromRGB(17, 255, 13),
		Background = Color3.fromRGB(23, 23, 22),
		Header = Color3.fromRGB(23, 23, 22),
		TextColor = Color3.fromRGB(255,255,255),
		ElementColor = Color3.fromRGB(55, 59, 55)
	}
}

local oldTheme = ""

local SettingsT = {}

local Name = "EmptynessHub"

pcall(function()
	if not pcall(function() readfile(Name) end) then
		writefile(Name, game:service'HttpService':JSONEncode(SettingsT))
	end

	Settings = game:service'HttpService':JSONEncode(readfile(Name))
end)

local LibName = tostring(math.random(1, 100))..tostring(math.random(1,50))..tostring(math.random(1, 100))

function Emptyness.CreateLib(kavName, themeList)
	if not themeList then
		themeList = themes
	end
	if themeList == "DarkTheme" then
		themeList = themeStyles.DarkTheme
	elseif themeList == "LightTheme" then
		themeList = themeStyles.LightTheme
	elseif themeList == "BloodTheme" then
		themeList = themeStyles.BloodTheme
	elseif themeList == "GrapeTheme" then
		themeList = themeStyles.GrapeTheme
	elseif themeList == "Ocean" then
		themeList = themeStyles.Ocean
	elseif themeList == "Midnight" then
		themeList = themeStyles.Midnight
	elseif themeList == "Sentinel" then
		themeList = themeStyles.Sentinel
	elseif themeList == "Synapse" then
		themeList = themeStyles.Synapse
	elseif themeList == "Serpent" then
		themeList = themeStyles.Serpent
	elseif themeList == "Kiwi" then
		themeList = themeStyles.Kiwi
	else
		if themeList.SchemeColor == nil then
			themeList.SchemeColor = Color3.fromRGB(74, 99, 135)
		elseif themeList.Background == nil then
			themeList.Background = Color3.fromRGB(36, 37, 43)
		elseif themeList.Header == nil then
			themeList.Header = Color3.fromRGB(28, 29, 34)
		elseif themeList.TextColor == nil then
			themeList.TextColor = Color3.fromRGB(255,255,255)
		elseif themeList.ElementColor == nil then
			themeList.ElementColor = Color3.fromRGB(32, 32, 38)
		end
	end

	themeList = themeList or {}
	local selectedTab 
	kavName = kavName or "Library"
	table.insert(Emptyness, kavName)
	for i,v in pairs(game.CoreGui:GetChildren()) do
		if v:IsA("ScreenGui") and v.Name == kavName then
			v:Destroy()
		end
	end
	-- GUI creation code goes here
	-- Instances:
	local ScreenScript = Instance.new("ScreenGui")
	local Main = Instance.new("Frame")
	local Headerframe = Instance.new("Frame")
	local Close = Instance.new("ImageButton")
	local UICorner = Instance.new("UICorner")
	local ImageLabel = Instance.new("ImageLabel")
	local UIScale = Instance.new("UIScale")
	local Title = Instance.new("TextButton")
	local UIPadding = Instance.new("UIPadding")
	local FirstSeperator = Instance.new("Frame")
	local Siderframe = Instance.new("Frame")
	local ActualSide = Instance.new("ScrollingFrame")
	local ActualSideListLayout = Instance.new("UIListLayout")
	local TextButton = Instance.new("TextButton")
	local UICorner_2 = Instance.new("UICorner")
	local Tabholder = Instance.new("ScrollingFrame")
	local Tabs = Instance.new("Folder")
	local UICorner_3 = Instance.new("UICorner")
	local TabLayout = Instance.new("UIListLayout")
	local ImageButtonK = Instance.new("ImageButton")
	local ImageButtonKCorner = Instance.new("UICorner")

	-- Theme:


	Emptyness:DraggingEnabled(Headerframe, Main)

	-- Properties:
	ScreenScript.Name = "ScreenScript"
	ScreenScript.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
	ScreenScript.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

	Main.Name = "Main"
	Main.Parent = ScreenScript
	Main.BackgroundColor3 = themes.Background
	Main.BorderColor3 = themes.SchemeColor
	Main.BorderSizePixel = 0
	Main.Position = UDim2.new(0.272804052, 0, 0.243107766, 0)
	Main.Size = UDim2.new(0, 525, 0, 318)

	Headerframe.Name = "Headerframe"
	Headerframe.Parent = Main
	Headerframe.BackgroundColor3 = themes.Header
	Headerframe.BorderSizePixel = 0
	Headerframe.Size = UDim2.new(1, 0, 0, 37)

	Close.Name = "Close"
	Close.Parent = Headerframe
	Close.AnchorPoint = Vector2.new(1, 0)
	Close.Position = UDim2.new(1, -5, 0, 5)
	Close.Size = UDim2.new(0, 27, 0, 27)
	Close.Image = "http://www.roblox.com/asset/?id=5856353827"
	Close.BackgroundTransparency = 1
	Close.MouseButton1Click:Connect(function()
		game.TweenService:Create(Close, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut), {
			ImageTransparency = 1
		}):Play()
		wait()
		game.TweenService:Create(Main, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
			Size = UDim2.new(0,0,0,0),
			Position = UDim2.new(0, Main.AbsolutePosition.X + (Main.AbsoluteSize.X / 2), 0, Main.AbsolutePosition.Y + (Main.AbsoluteSize.Y / 2))
		}):Play()
		wait(1)
		ScreenScript:Destroy()
	end)



	UICorner.CornerRadius = UDim.new(0, 4)
	UICorner.Parent = Close

	ImageLabel.Parent = Close
	ImageLabel.AnchorPoint = Vector2.new(0.5, 0.5)
	ImageLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	ImageLabel.BackgroundTransparency = 1
	ImageLabel.Position = UDim2.new(0.5, 0, 0.5, 0)
	ImageLabel.Size = UDim2.new(1, 0, 1, 0)
	ImageLabel.Image = "http://www.roblox.com/asset/?id=5856361683"
	ImageLabel.ScaleType = Enum.ScaleType.Fit

	UIScale.Parent = ImageLabel
	UIScale.Scale = 0.7

	Title.Name = "Title"
	Title.Parent = Headerframe
	Title.BackgroundTransparency = 1
	Title.Size = UDim2.new(1, -60, 1, 0)
	Title.Position = UDim2.new(0, 10, 0, 0)
	Title.Font = Enum.Font.SourceSans
	Title.Text = kavName
	Title.TextColor3 = themes.TextColor
	Title.TextSize = 18
	Title.TextXAlignment = Enum.TextXAlignment.Left

	UIPadding.Parent = Title
	UIPadding.PaddingLeft = UDim.new(0, 10)

	FirstSeperator.Name = "FirstSeperator"
	FirstSeperator.Parent = Main
	FirstSeperator.BackgroundColor3 = Color3.fromRGB(52, 52, 52)
	FirstSeperator.BorderSizePixel = 0
	FirstSeperator.Position = UDim2.new(0, 0, 0, 37)
	FirstSeperator.Size = UDim2.new(1, 0, 0, 1)

	Siderframe.Name = "Siderframe"
	Siderframe.Parent = Main
	Siderframe.BackgroundColor3 = themes.Background
	Siderframe.BorderSizePixel = 0
	Siderframe.Position = UDim2.new(0, 0, 0, 38)
	Siderframe.Size = UDim2.new(0, 200, 1, -38)

	ActualSide.Name = "ActualSide"
	ActualSide.Parent = Siderframe
	ActualSide.BackgroundTransparency = 1
	ActualSide.BorderSizePixel = 0
	ActualSide.Size = UDim2.new(1, 0, 1, 0)
	ActualSide.ScrollBarThickness = 2
	ActualSide.CanvasSize = UDim2.new(0, 0, 0, 0)

	ActualSideListLayout.Name = "ActualSideListLayout"
	ActualSideListLayout.Parent = ActualSide
	ActualSideListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
	ActualSideListLayout.SortOrder = Enum.SortOrder.LayoutOrder
	ActualSideListLayout.Padding = UDim.new(0, 10)

	TextButton.Parent = Siderframe
	TextButton.BackgroundColor3 = themes.ElementColor
	TextButton.BorderSizePixel = 0
	TextButton.Size = UDim2.new(1, 0, 0, 40)
	TextButton.Font = Enum.Font.SourceSans
	TextButton.Text = "Button"
	TextButton.TextColor3 = themes.TextColor
	TextButton.TextSize = 16

	UICorner_2.CornerRadius = UDim.new(0, 5)
	UICorner_2.Parent = TextButton

	Tabholder.Name = "Tabholder"
	Tabholder.Parent = Main
	Tabholder.BackgroundColor3 = themes.Background
	Tabholder.BorderSizePixel = 0
	Tabholder.Position = UDim2.new(0, 200, 0, 38)
	Tabholder.Size = UDim2.new(1, -200, 1, -38)
	Tabholder.ScrollBarThickness = 5

	Tabs.Name = "Tabs"
	Tabs.Parent = Tabholder

	UICorner_3.CornerRadius = UDim.new(0, 12)
	UICorner_3.Parent = Tabholder

	TabLayout.Name = "TabLayout"
	TabLayout.Parent = Tabholder
	TabLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
	TabLayout.SortOrder = Enum.SortOrder.LayoutOrder
	TabLayout.Padding = UDim.new(0, 10)

	ImageButtonK.Name = "ImageButtonK"
	ImageButtonK.Parent = ScreenScript
	ImageButtonK.AnchorPoint = Vector2.new(0.5, 0.5)
	ImageButtonK.BackgroundColor3 = themes.Background
	ImageButtonK.Position = UDim2.new(0.15, 0, 0.0619834736, 0)
	ImageButtonK.Size = UDim2.new(0, 73, 0, 52)
	ImageButtonK.Image = "rbxassetid://15771991482"

	ImageButtonKCorner.CornerRadius = UDim.new(0, 12)
	ImageButtonKCorner.Parent = ImageButtonK

	local xTabs = {}

	function xTabs:Tab(Name, xVisible)
		local Name = Name or "Tab"

		-- Gui to Lua
		-- Version: 3.2

		-- Instances:

		local TabDisplay = Instance.new("ImageButton")
		local Seperator = Instance.new("Frame")
		local Title = Instance.new("TextLabel")
		local UIPadding = Instance.new("UIPadding")
		local UICorner = Instance.new("UICorner")

		-- Apply theme colors

		TabDisplay.BackgroundColor3 = themes.Background

		Seperator.BackgroundColor3 = themes.ElementColor

		Title.TextColor3 = themes.TextColor

		--Properties:

		TabDisplay.Name = "TabDisplay"
		TabDisplay.Parent = ActualSide
		TabDisplay.Active = true -- This should be a boolean value, either true or false, to indicate whether the button is active or not
		TabDisplay.AnchorPoint = Vector2.new(0.5, 0)
		TabDisplay.BackgroundColor3 = themes.Background
		TabDisplay.Position = UDim2.new(0.0286853034, 0, 0.204402521, 0)
		TabDisplay.Selectable = false
		TabDisplay.Size = UDim2.new(0, 0, 0, 36)

		Seperator.Name = "Seperator"
		Seperator.Parent = TabDisplay
		Seperator.BackgroundColor3 = themes.ElementColor
		Seperator.BorderSizePixel = 0
		Seperator.Position = UDim2.new(0.989860594, 0, 0, 0)
		Seperator.Size = UDim2.new(0, 1, 0, 36)

		Title.Name = "Title"
		Title.Parent = TabDisplay
		Title.BackgroundColor3 = themes.Background
		Title.BackgroundTransparency = 1.000
		Title.Position = UDim2.new(6.63723185e-05, 0, 0, 0)
		Title.Size = UDim2.new(0, 6, 0, 36)
		Title.Font = Enum.Font.GothamMedium
		Title.Text = Name
		Title.TextColor3 = themes.TextColor
		Title.TextScaled = true
		Title.TextSize = 12.000
		Title.TextWrapped = true

		UIPadding.Parent = Title
		UIPadding.PaddingLeft = UDim.new(0, 10)
		UIPadding.PaddingRight = UDim.new(0, 10)

		UICorner.Parent = TabDisplay

		-- Return the TabDisplay object
		return TabDisplay
	end

	local Elements = {}

	function Elements:Button(Name, Callback)
		local Name = Name or "Button"
		local Callback = Callback or function() end

		local Button = Instance.new("TextButton")
		local UICorner = Instance.new("UICorner")
		local TextLabel = Instance.new("TextLabel")
		local Status = Instance.new("Frame")
		local ActualThing = Instance.new("Frame")
		local ImageLabel = Instance.new("ImageLabel")
		local UIScale = Instance.new("UIScale")

		-- Set up button properties
		Button.Name = "Button"
		Button.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
		Button.Position = UDim2.new(-0.115991771, 0, -0.00923603307, 0)
		Button.Selectable = false
		Button.Size = UDim2.new(0, 373, 0, 31)
		Button.AutoButtonColor = false
		Button.Text = ""

		-- Add a corner to the button for rounded edges
		UICorner.CornerRadius = UDim.new(0, 5)
		UICorner.Parent = Button

		-- Set up the text label
		TextLabel.Parent = Button
		TextLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		TextLabel.BackgroundTransparency = 1.000
		TextLabel.Position = UDim2.new(4.90899367e-07, 0, 0, 0)
		TextLabel.Size = UDim2.new(0, 316, 0, 31)
		TextLabel.Font = Enum.Font.GothamMedium
		TextLabel.Text = Name
		TextLabel.TextColor3 = Color3.fromRGB(193, 193, 193)
		TextLabel.TextSize = 12.000
		TextLabel.TextXAlignment = Enum.TextXAlignment.Left

		-- Set up the status indicator frame
		Status.Name = "Status"
		Status.Parent = Button
		Status.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		Status.BackgroundTransparency = 1.000
		Status.Position = UDim2.new(0.839826822, 0, 0, 0)
		Status.Size = UDim2.new(0, 37, 0, 31)

		-- Set up the actual status indicator
		ActualThing.Name = "ActualThing"
		ActualThing.Parent = Status
		ActualThing.AnchorPoint = Vector2.new(0.5, 0.5)
		ActualThing.BackgroundColor3 = Color3.fromRGB(106, 0, 255)
		ActualThing.BackgroundTransparency = 1.000
		ActualThing.Position = UDim2.new(0.5, 0, 0.5, 0)
		ActualThing.Size = UDim2.new(0, 20, 0, 20)

		-- Set up the image label within the status indicator
		ImageLabel.Parent = ActualThing
		ImageLabel.AnchorPoint = Vector2.new(0.5, 0.5)
		ImageLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		ImageLabel.BackgroundTransparency = 1.000
		ImageLabel.Position = UDim2.new(0.5, 0, 0.5, 0)
		ImageLabel.Size = UDim2.new(0, 20, 0, 20)
		ImageLabel.Image = "rbxassetid://7734010488"
		ImageLabel.ImageColor3 = Color3.fromRGB(104, 104, 104)

		-- Set up optional UI scale
		UIScale.Parent = ImageLabel
		UIScale.Scale = 0.800

		-- Attach the callback function to the button's MouseButton1Click event
		Button.MouseButton1Click:Connect(Callback)

		-- Return the button object
		return Button
	end
	return Elements, xTabs
end
return Emptyness
